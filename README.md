# Diplom_My_cloud
Дипломный проект по профессии «Fullstack-разработчик на Python»

[Backend](/mycloud/README.MD)
-----------------------------------------------------
Запуск FRONTEND
Создаем второй терминал не останавливая терминал django
Переходим в терминале в папку frontend 
если вы находитесь в папке mycloud тогда командой 
```bash
cd frontend
```

Устанвливаем все зависимости из файла package.json
```bash
npm install
```

Запускаем React командой 
```bash
npm start
```

P.S. Иногда, по непонятным причинам бывет глюк с Chakra. Выдает ошибки что не может найти какой-либо компонент или хук в модуле chakra-ui/react...При анализе оказалось, что данные компоненты действительно отсутствуют в системе.
Нашел пока такой костыль
```bash
npm i @chakra-ui/react@2 @emotion/react @emotion/styled framer-motion\
```

Открыть браузер по адресу: \
[http://localhost:3000](http://localhost:3000)


### Что сделано

- Установлены Django и React
- Установка и подключение БД PostgreSQL mycloud_db
- Скрестил Django и React на одном порту.
- Создал первичные тестовые модели "Пользователи" и "Файлы". Связь один-ко-многим.
- Добавил папку storage, в нее добавляются файлы пользователей, при создании через админку
- Создал шаблон и натянул bootstrap для лучшей наглядности записей.
- Добавление навигационной панели.
- Настройка роутинга между страницами списка файлов и какого-то конкретного
- Создание приложения для работы с REST API. Используется фреймворк django-tastypie
- Для работы с POST-запросами делаем аутентификацию и авторизацию пользователей.
- После штудирования инета все-таки вернулся к авторизации на JWT-токены как более надежные и современные. Все работает
- Убрал конфиденциальные данные в файл .env
- Добавил скрипт создания админа с готовыми полями.
- Все-таки решил создать пользовательское поле is_admin вместо встроенных в Django 5.0 is_staff и is_superadmin, как было сказано в задании, во избежание препеисывания большого куска кода в дальнейшем, если все-таки потребуют его наличие.

- Провел успешные тесты через POSTMAN:

  - регистрация пользователя
  - получение данных юзера
  - получение его файлов
  - добваление файла
  - получение файла по публичной ссылке (без авторизации) 
- От имени админа тесты:
  - получение списка всех пользователей
  - получение всех файлов пользователя
  - удаление файла по id
  - удаление пользователя по id (удаляется и его хранилище файлов)
  - изменение прав пользователя

- ### БЕКЕНД НАСТРОЕН!!!
- На фронте переделал логику приложения. Переделал и вынес в отдельные компоненты: админки, авторизации, работа с хранилищем, навигация. Вынес логику запросов к Django API и работу с JWT-токенами Добавил защищенные маршруты

- Frontend вроде как готов, тестировал, с каких-то дел Chakra отвалилась...либо у них произошел регресс и нужно переписывать все стили на Tailwind или что-то подобное, либо подождать обнову от них с денек...либо что-то я сломал...

- Chakra win! Почему-то нужно доустановить компоненты и хуки командой npm i @chakra-ui/react@2 @emotion/react @emotion/styled framer-motion

 - ### FRONTEND НАСТРОЕН!!!
- Тесты и исправления внесены. Осталось только задеплоить на хостинге.


-- К сожалению проект начал делать изначально на JS, думая что позже перепишу его на TS. Сейчас уже кардинально все переписывать нет смысла, да и нет времени. На будущее нужно проекты сразу писать на TS.
-


